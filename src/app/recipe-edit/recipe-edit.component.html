<div *ngIf="recipe">

<mat-toolbar>
	<mat-form-field> 
			<input matInput name="input_title" [readonly]="!title_edit" [(ngModel)]="userRecipe.title" />

			<button mat-icon-button *ngIf="!title_edit" matSuffix (click)="title_edit = !title_edit">
				<mat-icon>edit</mat-icon>
			</button>
			<button mat-icon-button *ngIf="title_edit" matSuffix (click)="title_edit = !title_edit">
				<mat-icon>done</mat-icon>
			</button>
			
	</mat-form-field> 
	
	<span class="fill-remaining-space"></span>
	<button mat-raised-button color="primary" (click)="doneEditing()">
		<mat-icon>done</mat-icon>
		<span>save to my twists</span>
	</button>
</mat-toolbar>

<br>
<mat-toolbar color="accent">Ingredients</mat-toolbar>
<br>

<mat-list class="app-class"> 
	<mat-list-item *ngFor="let ingredient of recipe.ingredients;let i=index" style="color:black;"> 
		<div style="width:50%" *ngIf="this.userRecipe.ingredients_edits[i]"> 
			<span style="text-decoration: line-through;">{{ingredient.details}} </span>&nbsp;
		</div> 
		<mat-form-field style="width:50%"> 
			
			<textarea matInput matTextareaAutosize matAutosizeMaxRows=8 matAutosizeMinRows=1  [readonly]="!ingredient.edit" [(ngModel)]="input_ingredients[i]"></textarea>
			
			<button mat-icon-button *ngIf="!ingredient.edit" matSuffix (click)="ingredient.edit = !ingredient.edit">
				<mat-icon>edit</mat-icon>
			</button>
			<button mat-icon-button *ngIf="ingredient.edit" matSuffix (click)="ingredientEdit(i,input_ingredients[i])">
				<mat-icon>done</mat-icon>
			</button>
			
		</mat-form-field> 
	</mat-list-item> 
</mat-list>

<br>
<mat-toolbar color="accent">Steps</mat-toolbar>
<br>

<mat-list class="app-class"> 
	<mat-list-item  *ngFor="let step of recipe.steps;let i=index" style="color:black;">
		<div style="width:50%" *ngIf="this.userRecipe.steps_edits[i]"> 
			<span style="text-decoration: line-through;">{{step.details}} </span>&nbsp;
		</div> 
		<mat-form-field style="width:50%">
			<textarea matInput matTextareaAutosize matAutosizeMaxRows=8 matAutosizeMinRows=3  [readonly]="!step.edit" [(ngModel)]="input_steps[i]"></textarea>
			<button mat-icon-button *ngIf="!step.edit" matSuffix (click)="step.edit = !step.edit">
				<mat-icon>edit</mat-icon>
			</button>
			<button mat-icon-button *ngIf="step.edit" matSuffix (click)="stepEdit(i,input_steps[i])">
				<mat-icon>done</mat-icon>
			</button>
		</mat-form-field> 
	</mat-list-item> 
</mat-list>

</div>